{"version":3,"sources":["webpack:///./src/pages/use-cases/order/index.mdx"],"names":["_frontmatter","layoutProps","MDXLayout","DefaultLayout","MDXContent","components","props","mdxType","parentName","isMDXComponent"],"mappings":"yeAMO,IAAMA,EAAe,GAOtBC,EAAc,CAClBD,gBAEIE,EAAYC,IACH,SAASC,EAAT,GAGZ,IAFDC,EAEC,EAFDA,WACGC,E,oIACF,mBACD,OAAO,YAACJ,EAAD,KAAeD,EAAiBK,EAAhC,CAAuCD,WAAYA,EAAYE,QAAQ,cAG5E,sIACA,sBACE,kBAAIC,WAAW,MAAf,sCACA,kBAAIA,WAAW,MAAf,gBAAqC,mBAAGA,WAAW,MAAS,CACxD,KAAQ,8FADyB,kBAArC,sGAGA,kBAAIA,WAAW,MAAf,gBAAqC,mBAAGA,WAAW,MAAS,CACxD,KAAQ,+EADyB,gBAArC,qFAGA,kBAAIA,WAAW,MAAf,kDAEF,mEACA,sBACE,kBAAIA,WAAW,MACb,iBAAGA,WAAW,MAAd,0BAEF,kBAAIA,WAAW,MACb,iBAAGA,WAAW,MAAd,gBAEF,kBAAIA,WAAW,MACb,iBAAGA,WAAW,MAAd,yDAEF,kBAAIA,WAAW,MACb,iBAAGA,WAAW,MAAd,WAEF,kBAAIA,WAAW,MACb,iBAAGA,WAAW,MAAd,6CACA,sBAAMA,WAAW,MAAS,CACxB,UAAa,4BACb,MAAS,CACP,SAAY,WACZ,QAAW,QACX,WAAc,OACd,YAAe,OACf,SAAY,WAPhB,WAUA,sBAAMA,WAAW,QAAW,CACxB,UAAa,qCACb,MAAS,CACP,cAAiB,sBACjB,SAAY,WACZ,OAAU,IACV,KAAQ,IACR,gBAAmB,o8BACnB,eAAkB,QAClB,QAAW,YAnBjB,OAsBJ,qBAAKA,WAAW,QAAW,CACnB,UAAa,0BACb,IAAO,kBACP,MAAS,kBACT,IAAO,2FACP,OAAU,CAAC,gGAAiG,gGAAiG,iGAC7M,MAAS,kCACT,MAAS,CACP,MAAS,OACT,OAAU,OACV,OAAU,IACV,cAAiB,SACjB,SAAY,WACZ,IAAO,IACP,KAAQ,KAEV,QAAW,UAtCf,YA2CJ,iFAAgE,mBAAGA,WAAW,KAAQ,CAClF,KAAQ,sDADoD,yBAAhE,uDAE0F,mBAAGA,WAAW,KAAQ,CAC5G,KAAQ,wCAD8E,sBAF1F,iDAIiF,mBAAGA,WAAW,KAAQ,CACnG,KAAQ,oEADqE,oBAJjF,kDAOA,6CACA,wCACA,sBACE,kBAAIA,WAAW,MACb,iBAAGA,WAAW,MAAd,aACA,kBAAIA,WAAW,MACb,kBAAIA,WAAW,MAAf,0EACA,kBAAIA,WAAW,MAAf,WACA,kBAAIA,WAAW,MAAf,eACA,kBAAIA,WAAW,MAAf,kGACA,kBAAIA,WAAW,MAAf,wFAA6G,mBAAGA,WAAW,MAAS,CAChI,KAAQ,+HADiG,aAA7G,iBAKJ,kBAAIA,WAAW,MACb,iBAAGA,WAAW,MAAd,gCACA,mBAAKA,WAAW,MAAK,sBAAMA,WAAW,OAAU,CAC5C,UAAa,mBADI,oKAOzB,0DACA,8LACA,sBACE,kBAAIA,WAAW,MACb,iBAAGA,WAAW,MAAd,gLACA,mBAAKA,WAAW,MAAK,sBAAMA,WAAW,OAAU,CAC5C,UAAa,mBADI,y7BAkBvB,kBAAIA,WAAW,MACb,iBAAGA,WAAW,MAAd,uDAA2E,mBAAGA,WAAW,KAAQ,CAC7F,KAAQ,iIAD+D,qBAA3E,UAKJ,yDACA,yCACA,2LACA,qEACA,uFACA,+DACA,yDACA,qDAKJJ,EAAWK,gBAAiB","file":"component---src-pages-use-cases-order-index-mdx-384c3f8e94f49e8d002a.js","sourcesContent":["import * as React from 'react'\n  /* @jsx mdx */\nimport { mdx } from '@mdx-js/react';\n/* @jsx mdx */\n\nimport DefaultLayout from \"/home/runner/work/vaccine-solution-main/vaccine-solution-main/docs/node_modules/gatsby-theme-carbon/src/templates/Default.js\";\nexport const _frontmatter = {};\n\nconst makeShortcode = name => function MDXDefaultShortcode(props) {\n  console.warn(\"Component \" + name + \" was not imported, exported, or provided by MDXProvider as global scope\");\n  return <div {...props} />;\n};\n\nconst layoutProps = {\n  _frontmatter\n};\nconst MDXLayout = DefaultLayout;\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n\n\n    <p>{`This note let you run the order management code with a simple scenario that addresses the following features:`}</p>\n    <ul>\n      <li parentName=\"ul\">{`Create Order with a User interface`}</li>\n      <li parentName=\"ul\">{`Validate the `}<a parentName=\"li\" {...{\n          \"href\": \"https://ibm-cloud-architecture.github.io/refarch-eda/patterns/intro/#transactional-outbox\"\n        }}>{`outbox pattern`}</a>{` works to get OrderCreated, OrderUpdated or OrderCancelled Events to a dedicated table in postgres`}</li>\n      <li parentName=\"ul\">{`Validate how `}<a parentName=\"li\" {...{\n          \"href\": \"https://debezium.io/documentation/reference/1.4/connectors/postgresql.html\"\n        }}>{`Debezium CDC`}</a>{` for postgres as a Kafka connector, produces OrderEvents from the table to Kafka.`}</li>\n      <li parentName=\"ul\">{`Integrate with the Shipment plan optimization`}</li>\n    </ul>\n    <h2>{`Components involved in this demonstration`}</h2>\n    <ul>\n      <li parentName=\"ul\">\n        <p parentName=\"li\">{`Vaccine Order Service`}</p>\n      </li>\n      <li parentName=\"ul\">\n        <p parentName=\"li\">{`Postgres DB`}</p>\n      </li>\n      <li parentName=\"ul\">\n        <p parentName=\"li\">{`Debezium for change data capture on the outbox table`}</p>\n      </li>\n      <li parentName=\"ul\">\n        <p parentName=\"li\">{`Kafka `}</p>\n      </li>\n      <li parentName=\"ul\">\n        <p parentName=\"li\">{`Vaccine Order Reefer Optimization Service`}</p>\n        <span parentName=\"li\" {...{\n          \"className\": \"gatsby-resp-image-wrapper\",\n          \"style\": {\n            \"position\": \"relative\",\n            \"display\": \"block\",\n            \"marginLeft\": \"auto\",\n            \"marginRight\": \"auto\",\n            \"maxWidth\": \"777px\"\n          }\n        }}>{`\n      `}<span parentName=\"span\" {...{\n            \"className\": \"gatsby-resp-image-background-image\",\n            \"style\": {\n              \"paddingBottom\": \"54.861111111111114%\",\n              \"position\": \"relative\",\n              \"bottom\": \"0\",\n              \"left\": \"0\",\n              \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsSAAALEgHS3X78AAACbElEQVQoz2VTS2vUUBTOzj+gO0Hc+wNcuBEENy5cunAngg9ciS6KoCJCEVQqFmlLKa4sVsq0dawbhVYdsdqpTKf0NbXOq5m088jkJrlJ7r35PPd2Kog3fMnNeXw59zsnlgoC+G0PrNndR8uD4iHSmP8DxBHSiEOSD0mE0GMYf/sNoxOfMDb5BaOv59F0WrBCl2FsZAnDgz8w8mIRo0OLcBwGlabgXBCPQKQRJwYsIEJatYaL4+f7cfLSIE5fG8ahU31YLGzBClwPM1NFTE8WkM0sY3amiE47oJQUSSKglIJIJLodz7xrpGTrdAPcePTG4NZABhfvvESlYsOCjChZUZCkSmJIemoIISAl2ekSUoKHCdkkEUr6Vgp7t4sTFx7jyNn7OHruIQ6fuYv1zSqspVUHma8NuJRwsDhpFUcRFBFqYlNlLAxxkiSmgI4X4PbAFPqez+De0DtcfvAK9ZoD6+qzPI5dmcfc8h6cvTYqdtvotF3fRWWnSdUKtLqMfK4hWtmqodzwaC/x36JmWdlcFU+zZRS3m7jeP4GbT6aw/ruO8Y/f8SG/ZuKmcwW8X1gxexZJAgmRUrVSmOZpSKpe0clIw7hHrxDygI4n4DTbyH7Oo1Aqww8Y5hZ+IrdEzXJdQ6RjE5EYrbXGhlT1CCWn2dLCk05+RKNBwnt0ZJf5qNsNrG5sktglVOs7YCHNH42OBuMxVdgj1PdUmTm1FPOQJtRdeuF+CE5kMSVyP4BNJI26jdJGCeurawhZgCjkiChGx+qclAZe6aHXP0Pgw0q9rtkcQPkazIDmyNjsX1toVis9/77vb/xBri6M7H8ACQ8nDVgeUpYAAAAASUVORK5CYII=')\",\n              \"backgroundSize\": \"cover\",\n              \"display\": \"block\"\n            }\n          }}></span>{`\n  `}<img parentName=\"span\" {...{\n            \"className\": \"gatsby-resp-image-image\",\n            \"alt\": \"vaccine order 1\",\n            \"title\": \"vaccine order 1\",\n            \"src\": \"/vaccine-solution-main/static/f687ca251b28950f8caa6b410572107d/c53c3/vaccine-order-1.png\",\n            \"srcSet\": [\"/vaccine-solution-main/static/f687ca251b28950f8caa6b410572107d/7fc1e/vaccine-order-1.png 288w\", \"/vaccine-solution-main/static/f687ca251b28950f8caa6b410572107d/a5df1/vaccine-order-1.png 576w\", \"/vaccine-solution-main/static/f687ca251b28950f8caa6b410572107d/c53c3/vaccine-order-1.png 777w\"],\n            \"sizes\": \"(max-width: 777px) 100vw, 777px\",\n            \"style\": {\n              \"width\": \"100%\",\n              \"height\": \"100%\",\n              \"margin\": \"0\",\n              \"verticalAlign\": \"middle\",\n              \"position\": \"absolute\",\n              \"top\": \"0\",\n              \"left\": \"0\"\n            },\n            \"loading\": \"lazy\"\n          }}></img>{`\n    `}</span>\n      </li>\n    </ul>\n    <p>{`To have a deeper understanding of the order service read `}<a parentName=\"p\" {...{\n        \"href\": \"/vaccine-solution-main/solution/orderms/#overview\"\n      }}>{`this overview section`}</a>{`. For the Vaccine order reefer optimization service `}<a parentName=\"p\" {...{\n        \"href\": \"/vaccine-solution-main/design/voro/\"\n      }}>{`the design article`}</a>{` details the optimization approach, while the `}<a parentName=\"p\" {...{\n        \"href\": \"/vaccine-solution-main/solution/orderms/voro-solution/#overview\"\n      }}>{`solution article`}</a>{` goes over the service implementation details.`}</p>\n    <h2>{`Deploy to OpenShift`}</h2>\n    <h3>{`Pre-requisites`}</h3>\n    <ul>\n      <li parentName=\"ul\">\n        <p parentName=\"li\">{`You need:`}</p>\n        <ul parentName=\"li\">\n          <li parentName=\"ul\">{`docker and docker compose on your laptop to run locally or build image`}</li>\n          <li parentName=\"ul\">{`Java 11`}</li>\n          <li parentName=\"ul\">{`git client `}</li>\n          <li parentName=\"ul\">{`Get access to an OpenShift cluster with Cloud Pak for integration and event streams installed.`}</li>\n          <li parentName=\"ul\">{`Have a TLS user and a SCRAM user created in the event streams OpenShift project. See `}<a parentName=\"li\" {...{\n              \"href\": \"https://ibm-cloud-architecture.github.io/refarch-eda/use-cases/overview/pre-requisites/#generate-scram-service-credentials\"\n            }}>{`this note`}</a>{` if needed.`}</li>\n        </ul>\n      </li>\n      <li parentName=\"ul\">\n        <p parentName=\"li\">{`Clone the two main projects:`}</p>\n        <pre parentName=\"li\"><code parentName=\"pre\" {...{\n            \"className\": \"language-shell\"\n          }}>{`git clone https://github.com/ibm-cloud-architecture/vaccine-order-mgr-pg\ngit clone https://github.com/ibm-cloud-architecture/vaccine-order-optimization-pg\n`}</code></pre>\n      </li>\n    </ul>\n    <h3>{`Deploy the Vaccine Order Service`}</h3>\n    <p>{`This microservice is built using maven and Quarkus extensions. We have already pushed the last version of this service on dockerhub, if you do not want to build it. `}</p>\n    <ul>\n      <li parentName=\"ul\">\n        <p parentName=\"li\">{`Deploy a postgres server. The orders are persisted in an external Postgres instance running on Openshift cluster. To do a simple deployment performs the following commands:`}</p>\n        <pre parentName=\"li\"><code parentName=\"pre\" {...{\n            \"className\": \"language-shell\"\n          }}>{`# Define environement variables\nSERVICE_ACCOUNT_NAME=postgres-sa\nDEPLOYMENT_NAME=postgres\nSERVICE_NAME=postgres\nDOCKER_IMAGE=docker.io/postgres:11.6-alpine\nPOSTGRES_PASSWORD=adifficultpasswordtoguess\n\noc create serviceaccount \\${SERVICE_ACCOUNT_NAME}\noc adm policy add-scc-to-user anyuid -n \\${PROJECT_NAME} -z \\${SERVICE_ACCOUNT_NAME}\noc create deployment \\${DEPLOYMENT_NAME} --image=\\${DOCKER_IMAGE}\noc set serviceaccount deployment/\\${DEPLOYMENT_NAME} \\${SERVICE_ACCOUNT_NAME}\noc patch deployment \\${DEPLOYMENT_NAME} --type=\"json\" -p='[{\"op\":\"add\", \"path\":\"/spec/template/spec/containers/0/args\", \"value\":[]},{\"op\":\"add\", \"path\":\"/spec/template/spec/containers/0/args/-\", \"value\":\"-c\"},{\"op\":\"add\", \"path\":\"/spec/template/spec/containers/0/args/-\", \"value\":\"wal_level=logical\"} ]'\noc set env deployment \\${DEPLOYMENT_NAME} POSTGRES_PASSWORD=\\${POSTGRES_PASSWORD}\noc expose deployment \\${DEPLOYMENT_NAME} --port 5432 --name \\${SERVICE_NAME}\n`}</code></pre>\n      </li>\n      <li parentName=\"ul\">\n        <p parentName=\"li\">{`Get an instance of Kafka deployed on OpenShift like `}<a parentName=\"p\" {...{\n            \"href\": \"https://ibm-cloud-architecture.github.io/refarch-eda/use-cases/overview/pre-requisites#install-event-streams-using-operators\"\n          }}>{`IBM Event Streams`}</a>{`â€¦). `}</p>\n      </li>\n    </ul>\n    <h3>{`Deploy the Optimization Service`}</h3>\n    <h2>{`Scenario script`}</h2>\n    <p>{`Once the solution is up and running in your target deployment environment (local or OpenShift) execute the following steps to present an end to end demonstration.`}</p>\n    <h3>{`Validate existing vaccine lot shipment plan`}</h3>\n    <h3>{`Create an order from the user interface of the Order Service.`}</h3>\n    <h3>{`See how the shipment plan is modified`}</h3>\n    <h3>{`Validate the blockchain records`}</h3>\n    <h3>{`Present the events created`}</h3>\n\n    </MDXLayout>;\n}\n;\nMDXContent.isMDXComponent = true;\n      "],"sourceRoot":""}