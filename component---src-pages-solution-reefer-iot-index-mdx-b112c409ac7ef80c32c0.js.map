{"version":3,"sources":["webpack:///./src/pages/solution/reefer-iot/index.mdx"],"names":["_frontmatter","makeShortcode","name","props","console","warn","PageDescription","AnchorLinks","AnchorLink","layoutProps","MDXLayout","DefaultLayout","MDXContent","components","mdxType","parentName","isMDXComponent"],"mappings":"2eAMO,IAAMA,EAAe,GAEtBC,EAAgB,SAAAC,GAAI,OAAI,SAA6BC,GAEzD,OADAC,QAAQC,KAAK,aAAeH,EAAO,2EAC5B,kBAASC,KAGZG,EAAkBL,EAAc,mBAChCM,EAAcN,EAAc,eAC5BO,EAAaP,EAAc,cAC3BQ,EAAc,CAClBT,gBAEIU,EAAYC,IACH,SAASC,EAAT,GAGZ,IAFDC,EAEC,EAFDA,WACGV,E,oIACF,mBACD,OAAO,YAACO,EAAD,KAAeD,EAAiBN,EAAhC,CAAuCU,WAAYA,EAAYC,QAAQ,cAG5E,YAACR,EAAD,CAAiBQ,QAAQ,mBAAzB,0OAGA,YAACP,EAAD,CAAaO,QAAQ,eACvB,YAACN,EAAD,CAAYM,QAAQ,cAApB,YACA,YAACN,EAAD,CAAYM,QAAQ,cAApB,SACA,YAACN,EAAD,CAAYM,QAAQ,cAApB,OACA,YAACN,EAAD,CAAYM,QAAQ,cAApB,kBAEE,kCACA,kDACA,uQACA,sBACE,kBAAIC,WAAW,MACb,iBAAGA,WAAW,MAAd,mLAEF,kBAAIA,WAAW,MACb,iBAAGA,WAAW,MAAd,kPAEF,kBAAIA,WAAW,MACb,iBAAGA,WAAW,MAAd,4OAEF,kBAAIA,WAAW,MACb,iBAAGA,WAAW,MAAd,sLAEF,kBAAIA,WAAW,MACb,iBAAGA,WAAW,MAAd,mOACA,sBAAMA,WAAW,MAAS,CACxB,UAAa,4BACb,MAAS,CACP,SAAY,WACZ,QAAW,QACX,WAAc,OACd,YAAe,OACf,SAAY,WAPhB,WAUA,sBAAMA,WAAW,QAAW,CACxB,UAAa,qCACb,MAAS,CACP,cAAiB,qBACjB,SAAY,WACZ,OAAU,IACV,KAAQ,IACR,gBAAmB,4pBACnB,eAAkB,QAClB,QAAW,YAnBjB,OAsBJ,qBAAKA,WAAW,QAAW,CACnB,UAAa,0BACb,IAAO,IACP,MAAS,IACT,IAAO,0FACP,OAAU,CAAC,+FAAgG,+FAAgG,gGAC3M,MAAS,kCACT,MAAS,CACP,MAAS,OACT,OAAU,OACV,OAAU,IACV,cAAiB,SACjB,SAAY,WACZ,IAAO,IACP,KAAQ,KAEV,QAAW,UAtCf,YA2CJ,2LACA,yCACA,8HAA6G,0BAAYA,WAAW,KAAvB,YAA7G,SACA,mBAAU,CACR,UAAa,4BACb,MAAS,CACP,SAAY,WACZ,QAAW,QACX,WAAc,OACd,YAAe,OACf,SAAY,WAPhB,WAUI,sBAAMA,WAAW,QAAW,CAC5B,UAAa,qCACb,MAAS,CACP,cAAiB,sBACjB,SAAY,WACZ,OAAU,IACV,KAAQ,IACR,gBAAmB,4eACnB,eAAkB,QAClB,QAAW,YAnBjB,OAsBA,qBAAKA,WAAW,QAAW,CACvB,UAAa,0BACb,IAAO,IACP,MAAS,IACT,IAAO,oGACP,OAAU,CAAC,yGAA0G,yGAA0G,0GAA2G,0GAA2G,0GAA2G,2GAChiB,MAAS,oCACT,MAAS,CACP,MAAS,OACT,OAAU,OACV,OAAU,IACV,cAAiB,SACjB,SAAY,WACZ,IAAO,IACP,KAAQ,KAEV,QAAW,UAtCf,UAyCA,8TACA,uBAAK,sBAAMA,WAAW,OAAU,CAC5B,UAAa,kBADZ,qIAQL,8XACA,qFAAoE,mBAAGA,WAAW,KAAQ,CACtF,KAAQ,+CADwD,SAApE,yFAE4G,mBAAGA,WAAW,KAAQ,CAC9H,KAAQ,8BADgG,YAF5G,KAKA,gFAA+D,mBAAGA,WAAW,KAAQ,CACjF,KAAQ,yDADmD,kBAA/D,KAGA,8XAA6W,mBAAGA,WAAW,KAAQ,CAC/X,KAAQ,uCADiW,6BAA7W,KAGA,kLAAiK,mBAAGA,WAAW,KAAQ,CACnL,KAAQ,0BADqJ,YAAjK,4CAGA,iCACA,uDAAsC,mBAAGA,WAAW,KAAQ,CACxD,KAAQ,wBAD0B,WAAtC,SAE8B,mBAAGA,WAAW,KAAQ,CAChD,KAAQ,0DADkB,eAF9B,sEAKA,qFAAoE,0BAAYA,WAAW,KAAvB,6BAApE,8DACA,6CAA4B,mBAAGA,WAAW,KAAQ,CAC9C,KAAQ,yEADgB,+CAA5B,mDAGA,oKACA,uBAAK,sBAAMA,WAAW,OAAU,CAC5B,UAAa,oBADZ,sPAaL,gJAA+H,0BAAYA,WAAW,KAAvB,sBAA/H,uBAAqN,mBAAGA,WAAW,KAAQ,CACvO,KAAQ,2DADyM,oBAArN,WAEyC,mBAAGA,WAAW,KAAQ,CAC3D,KAAQ,KAD6B,qBAFzC,KAKA,4BAAW,0BAAYA,WAAW,KAAvB,WAAX,8NACA,uBAAK,sBAAMA,WAAW,OAAU,CAC5B,UAAa,wBADZ,gMAQL,gIACA,uBAAK,sBAAMA,WAAW,OAAU,IAA3B,0JAWL,2QAA0P,0BAAYA,WAAW,KAAvB,cAA1P,KACA,uBAAK,sBAAMA,WAAW,OAAU,CAC5B,UAAa,oBADZ,sGAKL,kDAAiC,mBAAGA,WAAW,KAAQ,CACnD,KAAQ,yCADqB,YAAjC,wCAE8D,mBAAGA,WAAW,KAAQ,CAChF,KAAQ,iDADkD,0BAF9D,gHAIoJ,0BAAYA,WAAW,KAAvB,YAJpJ,qEAKA,qCAAoB,0BAAYA,WAAW,KAAvB,YAApB,uDAAgI,0BAAYA,WAAW,KAAvB,sBAAhI,0IAAyU,mBAAGA,WAAW,KAAQ,CAC3V,KAAQ,+GAD6T,iBAAzU,aAEwC,0BAAYA,WAAW,KAAvB,OAFxC,YAGA,iIACA,uBAAK,sBAAMA,WAAW,OAAU,CAC5B,UAAa,oBADZ,sUAcL,4BAAW,mBAAGA,WAAW,KAAQ,CAC7B,KAAQ,2FADD,WAAX,gEAEqF,0BAAYA,WAAW,KAAvB,UAFrF,8CAEsL,0BAAYA,WAAW,KAAvB,iBAFtL,KAGA,qBAAG,sBAAQA,WAAW,KAAnB,sBAAH,IAA8D,mBAAGA,WAAW,KAAQ,CAChF,KAAQ,uEADkD,6BAG9D,qBAAG,sBAAQA,WAAW,KAAnB,6BAAH,gBACA,qBAAG,sBAAQA,WAAW,KAAnB,8BACH,uBAAK,sBAAMA,WAAW,OAAU,CAC5B,UAAa,oBADZ,g4BA6BL,+BACA,6KACA,6MACA,qBAAG,0BAAYA,WAAW,KAAvB,oEACH,qQAE0C,0BAAYA,WAAW,KAAvB,mBAF1C,mHAGA,6BACA,+JACA,uBAAK,sBAAMA,WAAW,OAAU,CAC5B,UAAa,mBADZ,0QAQL,sEACA,iPACA,uBAAK,sBAAMA,WAAW,OAAU,CAC5B,UAAa,mBADZ,6oBAmBL,iEACA,uBAAK,sBAAMA,WAAW,OAAU,CAC5B,UAAa,mBADZ,mNAML,uGACA,uBAAK,sBAAMA,WAAW,OAAU,CAC5B,UAAa,mBADZ,0JAIL,yEACA,uBAAK,sBAAMA,WAAW,OAAU,CAC5B,UAAa,mBADZ,sRAKL,iCACA,iDACA,iGAAgF,0BAAYA,WAAW,KAAvB,gBAAhF,KACA,uBAAK,sBAAMA,WAAW,OAAU,CAC5B,UAAa,mBADZ,mNAQL,4CACA,mIAAkH,mBAAGA,WAAW,KAAQ,CACpI,KAAQ,SADsG,oBAAlH,KAGA,2EAA0D,mBAAGA,WAAW,KAAQ,CAC5E,KAAQ,kCAD8C,iCAA1D,wDAGA,mBAAU,CACR,UAAa,4BACb,MAAS,CACP,SAAY,WACZ,QAAW,QACX,WAAc,OACd,YAAe,OACf,SAAY,WAPhB,WAUI,sBAAMA,WAAW,QAAW,CAC5B,UAAa,qCACb,MAAS,CACP,cAAiB,sBACjB,SAAY,WACZ,OAAU,IACV,KAAQ,IACR,gBAAmB,gnBACnB,eAAkB,QAClB,QAAW,YAnBjB,OAsBA,qBAAKA,WAAW,QAAW,CACvB,UAAa,0BACb,IAAO,2BACP,MAAS,2BACT,IAAO,oGACP,OAAU,CAAC,yGAA0G,yGAA0G,0GAA2G,0GAA2G,2GACrb,MAAS,oCACT,MAAS,CACP,MAAS,OACT,OAAU,OACV,OAAU,IACV,cAAiB,SACjB,SAAY,WACZ,IAAO,IACP,KAAQ,KAEV,QAAW,UAtCf,UAyCA,oCACA,sBACE,kBAAIA,WAAW,MACb,iBAAGA,WAAW,MAAd,8HACA,kBAAIA,WAAW,MACb,kBAAIA,WAAW,MACb,iBAAGA,WAAW,MAAd,KAAyB,0BAAYA,WAAW,KAAvB,aAAzB,UAAyF,0BAAYA,WAAW,KAAvB,qBAAzF,0BAAiL,0BAAYA,WAAW,KAAvB,uCAEnL,kBAAIA,WAAW,MACb,iBAAGA,WAAW,MAAd,0FAA8G,0BAAYA,WAAW,KAAvB,cAA9G,6IACA,mBAAKA,WAAW,MAAK,sBAAMA,WAAW,OAAU,IAA3B,uEAGvB,kBAAIA,WAAW,MACb,iBAAGA,WAAW,MAAd,KAAyB,0BAAYA,WAAW,KAAvB,UAAzB,UAAsF,0BAAYA,WAAW,KAAvB,oBAAtF,8BACA,mBAAKA,WAAW,MAAK,sBAAMA,WAAW,OAAU,IAA3B,iFAK3B,kBAAIA,WAAW,MACb,iBAAGA,WAAW,MAAd,8JAAkL,0BAAYA,WAAW,KAAvB,uBAAlL,yCACA,iBAAGA,WAAW,MAAK,mBAAGA,WAAW,KAAQ,CACrC,KAAQ,mGADO,0BAKvB,gDACA,mGAAkF,0BAAYA,WAAW,KAAvB,kBAAlF,kCAA+K,mBAAGA,WAAW,KAAQ,CACjM,KAAQ,mEADmK,kDAA/K,MAGA,sBACE,kBAAIA,WAAW,MAAf,mEAEF,uBAAK,sBAAMA,WAAW,OAAU,CAC5B,UAAa,mBADZ,yOAOL,mEACA,uBAAK,sBAAMA,WAAW,OAAU,CAC5B,UAAa,mBADZ,qBAIL,0DACA,mBAAU,CACR,UAAa,4BACb,MAAS,CACP,SAAY,WACZ,QAAW,QACX,WAAc,OACd,YAAe,OACf,SAAY,WAPhB,WAUI,sBAAMA,WAAW,QAAW,CAC5B,UAAa,qCACb,MAAS,CACP,cAAiB,qBACjB,SAAY,WACZ,OAAU,IACV,KAAQ,IACR,gBAAmB,olBACnB,eAAkB,QAClB,QAAW,YAnBjB,OAsBA,qBAAKA,WAAW,QAAW,CACvB,UAAa,0BACb,IAAO,gBACP,MAAS,gBACT,IAAO,yFACP,OAAU,CAAC,8FAA+F,8FAA+F,gGACzM,MAAS,oCACT,MAAS,CACP,MAAS,OACT,OAAU,OACV,OAAU,IACV,cAAiB,SACjB,SAAY,WACZ,IAAO,IACP,KAAQ,KAEV,QAAW,UAtCf,UAyCA,gGACA,uBAAK,sBAAMA,WAAW,OAAU,IAA3B,6DAGL,sBACE,kBAAIA,WAAW,MAAf,6BAAkD,0BAAYA,WAAW,MAAvB,2BAEpD,2DACA,kHAAiG,mBAAGA,WAAW,KAAQ,CACnH,KAAQ,+CADqF,aAAjG,KAGA,qCACA,4IACA,sBACE,kBAAIA,WAAW,MACb,iBAAGA,WAAW,MAAd,mCAAuD,0BAAYA,WAAW,KAAvB,iCAAvD,+CAAgL,0BAAYA,WAAW,KAAvB,aAAhL,4BAEF,kBAAIA,WAAW,MACb,iBAAGA,WAAW,MAAd,mCAAuD,0BAAYA,WAAW,KAAvB,iBAAvD,sBAAuI,sBAAQA,WAAW,KAAnB,eAAvI,MAEF,kBAAIA,WAAW,MACb,iBAAGA,WAAW,MAAd,yEAA6F,0BAAYA,WAAW,KAAvB,WAA7F,uCACA,kBAAIA,WAAW,MACb,kBAAIA,WAAW,MAAf,cAAmC,0BAAYA,WAAW,MAAvB,uBACnC,kBAAIA,WAAW,MAAf,YAAiC,0BAAYA,WAAW,MAAvB,uBACjC,kBAAIA,WAAW,MAAf,eAAoC,0BAAYA,WAAW,MAAvB,uDACpC,kBAAIA,WAAW,MAAf,2CAGJ,kBAAIA,WAAW,MACb,iBAAGA,WAAW,MAAd,SAA6B,sBAAQA,WAAW,KAAnB,cAGjC,uCACA,sBACE,kBAAIA,WAAW,MAAK,mBAAGA,WAAW,MAAS,CACvC,KAAQ,mEADQ,kBAGpB,kBAAIA,WAAW,MAAK,mBAAGA,WAAW,MAAS,CACvC,KAAQ,mEADQ,qDAQ1BH,EAAWI,gBAAiB","file":"component---src-pages-solution-reefer-iot-index-mdx-b112c409ac7ef80c32c0.js","sourcesContent":["import * as React from 'react'\n  /* @jsx mdx */\nimport { mdx } from '@mdx-js/react';\n/* @jsx mdx */\n\nimport DefaultLayout from \"/home/runner/work/vaccine-solution-main/vaccine-solution-main/docs/node_modules/gatsby-theme-carbon/src/templates/Default.js\";\nexport const _frontmatter = {};\n\nconst makeShortcode = name => function MDXDefaultShortcode(props) {\n  console.warn(\"Component \" + name + \" was not imported, exported, or provided by MDXProvider as global scope\");\n  return <div {...props} />;\n};\n\nconst PageDescription = makeShortcode(\"PageDescription\");\nconst AnchorLinks = makeShortcode(\"AnchorLinks\");\nconst AnchorLink = makeShortcode(\"AnchorLink\");\nconst layoutProps = {\n  _frontmatter\n};\nconst MDXLayout = DefaultLayout;\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n\n\n    <PageDescription mdxType=\"PageDescription\">\nThis Simulator web application is a simple python (3.7) Flask app exposing a REST POST end point to control the type of simulation we want to run and to produce refrigerator container telemetry events to kafka `telemetries` topic.\n    </PageDescription>\n    <AnchorLinks mdxType=\"AnchorLinks\">\n  <AnchorLink mdxType=\"AnchorLink\">Overview</AnchorLink>\n  <AnchorLink mdxType=\"AnchorLink\">Build</AnchorLink>\n  <AnchorLink mdxType=\"AnchorLink\">Run</AnchorLink>\n  <AnchorLink mdxType=\"AnchorLink\">Usage Details</AnchorLink>\n    </AnchorLinks>\n    <h2>{`Overview`}</h2>\n    <h3>{`Application requirements`}</h3>\n    <p>{`The simulator is not in the critical path for production like component. It is here to help us develop the other components of the solution as we do not have real life Refrigerator container. Here are the simple user stories for this app:`}</p>\n    <ol>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`when I want to generate mockup telemetries data for my data scientist friend, I want to start the simulator tool from command line so I can get a csv file with telemetry data`}</p>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`when I want to generate mockup telemetries data for my data scientist friend, I want to be able to simulate co2 sensor, o2 sensor, temperature and power sensor issue so I can get relevant data for the machine learning model to make sense`}</p>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`when I want to generate mockup telemetries data for my data scientist friend, I want to start the simulator tool from command line using parameter so I can get save data to a remote document oriented database: mongodb on IBM cloud.`}</p>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`when I want to demonstrate the solution, I want to call a REST api to control the generation of faulty sensor data so I can get the scoring service returning maintenance needed.`}</p>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`when I want to demonstrate the cold chain violation, I want to call a REST api to control a change to the temperature over a time period so cold chain violation can be identified with a complex event processing or AI model.`}</p>\n        <span parentName=\"li\" {...{\n          \"className\": \"gatsby-resp-image-wrapper\",\n          \"style\": {\n            \"position\": \"relative\",\n            \"display\": \"block\",\n            \"marginLeft\": \"auto\",\n            \"marginRight\": \"auto\",\n            \"maxWidth\": \"805px\"\n          }\n        }}>{`\n      `}<span parentName=\"span\" {...{\n            \"className\": \"gatsby-resp-image-background-image\",\n            \"style\": {\n              \"paddingBottom\": \"53.47222222222222%\",\n              \"position\": \"relative\",\n              \"bottom\": \"0\",\n              \"left\": \"0\",\n              \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsSAAALEgHS3X78AAABjklEQVQoz5WSy04UURCG+4l8DXeufAwSlyxdGh/AkGgiuDImsnJB4mICsiAxIUHDQmZgei49DXNpYYCecz+f1d1hFoYRrKRybqm//v+vk/zs/ebNzi+2Wqe8/dqu11I7/o4YI4+J5OXHI5Kn73n+epcnL76QPPtAms8hRMYXU4qiWII9BjRp/chY29jn3c4xrz4dsr55wLw0OGs4OWnTaXew1i4BH8rkX92cdVjj+J9IgqD6UKFXKu/2jbTg5ey83HkWSjGZFsyKS5xzeO9xkvUq5142RkvzZBX1BjBgTCO38nLv2z7ZKG/eQqizCqUVre8dzs7N/ZKXQxC2SvxE6rL+iO3tz+T56F6pt1pShdUe3oE20iJX8xs6p91a9ngyYyhML6+uxQ6wLohsL4r8aoYNYKwLlA01qBCuwfqDjGGW0037XN+U9dvCeIyLDzOM0tUuNE4Z9O2C2XjKMB3QP0vJegNKYe61xZYKL36v/jYVy8Z9MJoo/5IqY2B+cc4k7RJlGOIJ0ci9FhNl2n8AOZ5OKt7bwxYAAAAASUVORK5CYII=')\",\n              \"backgroundSize\": \"cover\",\n              \"display\": \"block\"\n            }\n          }}></span>{`\n  `}<img parentName=\"span\" {...{\n            \"className\": \"gatsby-resp-image-image\",\n            \"alt\": \"1\",\n            \"title\": \"1\",\n            \"src\": \"/vaccine-solution-main/static/1109ba1f0de2211ff2e394013f3dc4aa/56490/reefer-simul-1.png\",\n            \"srcSet\": [\"/vaccine-solution-main/static/1109ba1f0de2211ff2e394013f3dc4aa/7fc1e/reefer-simul-1.png 288w\", \"/vaccine-solution-main/static/1109ba1f0de2211ff2e394013f3dc4aa/a5df1/reefer-simul-1.png 576w\", \"/vaccine-solution-main/static/1109ba1f0de2211ff2e394013f3dc4aa/56490/reefer-simul-1.png 805w\"],\n            \"sizes\": \"(max-width: 805px) 100vw, 805px\",\n            \"style\": {\n              \"width\": \"100%\",\n              \"height\": \"100%\",\n              \"margin\": \"0\",\n              \"verticalAlign\": \"middle\",\n              \"position\": \"absolute\",\n              \"top\": \"0\",\n              \"left\": \"0\"\n            },\n            \"loading\": \"lazy\"\n          }}></img>{`\n    `}</span>\n      </li>\n    </ol>\n    <p>{`The simulator needs to integrate with kafka / IBM Event Streams deployed as service on the cloud or deployed on OpenShift cluster using Cloud Pak for Integration.`}</p>\n    <h3>{`Design approach`}</h3>\n    <p>{`To support remote control of the simulator while running as webapp, we define a POST operation on the `}<inlineCode parentName=\"p\">{`/control`}</inlineCode>{` URL:`}</p>\n    <span {...{\n      \"className\": \"gatsby-resp-image-wrapper\",\n      \"style\": {\n        \"position\": \"relative\",\n        \"display\": \"block\",\n        \"marginLeft\": \"auto\",\n        \"marginRight\": \"auto\",\n        \"maxWidth\": \"1152px\"\n      }\n    }}>{`\n      `}<span parentName=\"span\" {...{\n        \"className\": \"gatsby-resp-image-background-image\",\n        \"style\": {\n          \"paddingBottom\": \"28.819444444444443%\",\n          \"position\": \"relative\",\n          \"bottom\": \"0\",\n          \"left\": \"0\",\n          \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAABYlAAAWJQFJUiTwAAABCklEQVQY033RO0rEQByA8dxIPMBKwE5RUKwED2Bj5QnsXBSW9bWKheApLMVOLIQtFERw17yTnSSTly6Ln5O4ARVN8WOmmP83DKPdOk84IsAIPQxR87/tPV4VNxEEhSTI418kfhZhhj6OOqO5MkSOc+L37IcwT4je0kpYJIi8JP+QMEpjBq6NJ1VwGFg4qcCasqfrs2diyAAnj4g+ChLGjXImiEmGZqkhVw1VshCviLGSEb2LS9qdQzonZ7S7R432Do7Z2d3n6uZaPVmFHBWqlUEj8tnc2mZ1bYPllXXm9EVa+sK/9PklZmZbdE/P0cqIW8W+wvUF948P3PX7vNgGA99mqD6tkXAx5YhPV+adlsKgtqsAAAAASUVORK5CYII=')\",\n          \"backgroundSize\": \"cover\",\n          \"display\": \"block\"\n        }\n      }}></span>{`\n  `}<img parentName=\"span\" {...{\n        \"className\": \"gatsby-resp-image-image\",\n        \"alt\": \"1\",\n        \"title\": \"1\",\n        \"src\": \"/vaccine-solution-main/static/df4bf1fa6d1cab5aeaea4644b9bd6fd1/3cbba/simulapp-control-swagger.png\",\n        \"srcSet\": [\"/vaccine-solution-main/static/df4bf1fa6d1cab5aeaea4644b9bd6fd1/7fc1e/simulapp-control-swagger.png 288w\", \"/vaccine-solution-main/static/df4bf1fa6d1cab5aeaea4644b9bd6fd1/a5df1/simulapp-control-swagger.png 576w\", \"/vaccine-solution-main/static/df4bf1fa6d1cab5aeaea4644b9bd6fd1/3cbba/simulapp-control-swagger.png 1152w\", \"/vaccine-solution-main/static/df4bf1fa6d1cab5aeaea4644b9bd6fd1/0b124/simulapp-control-swagger.png 1728w\", \"/vaccine-solution-main/static/df4bf1fa6d1cab5aeaea4644b9bd6fd1/4ea69/simulapp-control-swagger.png 2304w\", \"/vaccine-solution-main/static/df4bf1fa6d1cab5aeaea4644b9bd6fd1/07adc/simulapp-control-swagger.png 2788w\"],\n        \"sizes\": \"(max-width: 1152px) 100vw, 1152px\",\n        \"style\": {\n          \"width\": \"100%\",\n          \"height\": \"100%\",\n          \"margin\": \"0\",\n          \"verticalAlign\": \"middle\",\n          \"position\": \"absolute\",\n          \"top\": \"0\",\n          \"left\": \"0\"\n        },\n        \"loading\": \"lazy\"\n      }}></img>{`\n    `}</span>\n    <p>{` The Json control object defines the number records to produce, the sensor to impact (co2sensor, temperature, o2sensor, power) , the container ID, (one of C01, C02, C03, C04) which carries the product referenced by product_id (one of P01, P02, P03, P04, P05) - The P01 is the covid-19 vaccine:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-json\"\n      }}>{`    { 'containerID': 'C02',\n    'simulation': 'temperature',\n    'nb_of_records': 4000,\n    \"product_id\":  \"P01\"\n    }\n`}</code></pre>\n    <p>{`We have tried to support a domain driven design approach to structure the code, with domain, infrastructure and app modules. The domain module has a unique class for the simulator which main goal is to generate data tuples or records for the different simulation types. It is reused by the standalone simulation CLI tool to generate data at rest, if needed.`}</p>\n    <p>{`As the simulator is also a webapp we need to package it with `}<a parentName=\"p\" {...{\n        \"href\": \"https://www.fullstackpython.com/flask.html\"\n      }}>{`Flask`}</a>{` and run it using one of the Web Server Gateway Interface (WSGI) implementation, like `}<a parentName=\"p\" {...{\n        \"href\": \"http://docs.gunicorn.org/\"\n      }}>{`Gunicorn`}</a>{`.`}</p>\n    <p>{`If you want to go over the code, ee recommend to follow `}<a parentName=\"p\" {...{\n        \"href\": \"https://flask.palletsprojects.com/en/1.1.x/tutorial/\"\n      }}>{`Flask tutorial`}</a>{`.`}</p>\n    <p>{`Flask is a simple library to implement REST based microservice and web application in Python. It has other related projects to add interesting features to develop production ready application. The standard development includes defining routes, function to support handling the request and generating HTTP response, but also defining APIs… Read more with the `}<a parentName=\"p\" {...{\n        \"href\": \"http://exploreflask.com/en/latest/\"\n      }}>{`explore Flask book online`}</a>{`.`}</p>\n    <p>{`Flask is mono threaded so it fits well in a simple web application for development purpose, but for production it is recommended to add a web server like `}<a parentName=\"p\" {...{\n        \"href\": \"https://gunicorn.org/\"\n      }}>{`Gunicorn`}</a>{` to handle multiple concurrent requests.`}</p>\n    <h3>{`Anatomy`}</h3>\n    <p>{`The application is built using `}<a parentName=\"p\" {...{\n        \"href\": \"https://appsody.dev\"\n      }}>{`Appsody`}</a>{`. The `}<a parentName=\"p\" {...{\n        \"href\": \"https://appsody.dev/docs/getting-started/installation\"\n      }}>{`Appsody CLI`}</a>{` is required locally to build and deploy the application properly.`}</p>\n    <p>{`The app is done using Flask, and the code is generated using `}<inlineCode parentName=\"p\">{`appsody init python-flask`}</inlineCode>{` command with the Python Flask appsody stack and template.`}</p>\n    <p>{`We recommend reading `}<a parentName=\"p\" {...{\n        \"href\": \"https://github.com/appsody/stacks/tree/master/incubator/python-flask\"\n      }}>{`the Python Flask Appsody Stack git hub repo`}</a>{` to get familiar with the appsody python stack.`}</p>\n    <p>{`The Flask application imports the ‘userapp’ where the real application code resides, and adds blueprints to define health and metrics APIs:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-python\"\n      }}>{`from flask import Flask\n\napp = Flask(__name__)\n\nfrom userapp import *\n\nfrom server.routes.health import health_bp\napp.register_blueprint(health_bp)\nfrom server.routes.prometheus import metrics_bp\napp.register_blueprint(metrics_bp)\n`}</code></pre>\n    <p>{`This code is not updateable, as it is part of the appsody stack image. But we can add our business logic as part of the `}<inlineCode parentName=\"p\">{`domain/__init__.py`}</inlineCode>{` code using another `}<a parentName=\"p\" {...{\n        \"href\": \"https://flask.palletsprojects.com/en/1.1.x/blueprints/\"\n      }}>{`Flask blueprints`}</a>{` module `}<a parentName=\"p\" {...{\n        \"href\": \"\"\n      }}>{`api/controller.py`}</a>{`.`}</p>\n    <p>{`The `}<inlineCode parentName=\"p\">{`userapp`}</inlineCode>{` module is defined when appsody integrates our code with the base stack image using Docker. Below is an extract of the docker file managing module installation and defining what appsody does during build, run and test:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-dockerfile\"\n      }}>{`ENV APPSODY_MOUNTS=/:/project/userapp\nENV APPSODY_DEPS=/project/deps\nWORKDIR /project\nRUN python -m pip install -r requirements.txt -t /project/deps\nENV FLASK_APP=server/__init__.py\n`}</code></pre>\n    <p>{`Looking at the content of the final docker container running the application we can see this structure:`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`/project\n|-- Dockerfile\n    Pipfile\n    Pipfile.lock\n    constraints.txt\n    requirements.txt\n    deps/\n    server/\n    test/\n    userapp/\n`}</code></pre>\n    <p>{`The basic concept of blueprints is that they record operations to execute when each operation is registered on an application. So to add one operation to support a new control, we add a blueprint, and then register it in the main application: `}<inlineCode parentName=\"p\">{`__init__py`}</inlineCode>{`.`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-python\"\n      }}>{`from userapp.api.controller import control_blueprint\napp.register_blueprint(control_blueprint)\n`}</code></pre>\n    <p>{`To define the API, we use `}<a parentName=\"p\" {...{\n        \"href\": \"https://github.com/flasgger/flasgger\"\n      }}>{`Flasgger`}</a>{` as an extension to Flask to extract `}<a parentName=\"p\" {...{\n        \"href\": \"https://swagger.io/docs/specification/about/\"\n      }}>{`Open API specification`}</a>{` from the code. It comes with Swagger UI, so we can see the API documentation of the microservice at the URL `}<inlineCode parentName=\"p\">{`/apidocs`}</inlineCode>{`.  It can also validate the data according to the schema defined.`}</p>\n    <p>{`For the POST `}<inlineCode parentName=\"p\">{`/control`}</inlineCode>{` we defined the Swagger 2.0 API in a separate file: `}<inlineCode parentName=\"p\">{`api/controlapi.yml`}</inlineCode>{` and import it at the method level to support the POST operation. This method is defined in its blueprint as a REST resource. The code `}<a parentName=\"p\" {...{\n        \"href\": \"https://github.com/ibm-cloud-architecture/vaccine-reefer-simulator/blob/master/simulator/api/controller.py\"\n      }}>{`controller.py`}</a>{` is under `}<inlineCode parentName=\"p\">{`api`}</inlineCode>{` folder.`}</p>\n    <p>{`Below is a code extract to illustrate the use of Flask-RESTful and blueprint and the swagger annotation:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-python\"\n      }}>{`from flasgger import swag_from\nfrom flask_restful import Resource, Api\n\ncontrol_blueprint = Blueprint(\"control\", __name__)\napi = Api(control_blueprint)\n\nclass SimulationController(Resource):\n    @swag_from('controlapi.yml')\n    def post(self):\n        # ..\napi.add_resource(SimulationController, \"/control\")\n`}</code></pre>\n    <p>{`The `}<a parentName=\"p\" {...{\n        \"href\": \"https://github.com/ibm-cloud-architecture/vaccine-reefer-simulator/blob/master/Pipfile\"\n      }}>{`Pipfile`}</a>{` defines the dependencies for this component, and is used by `}<inlineCode parentName=\"p\">{`pipenv`}</inlineCode>{` during the automatic build process within `}<inlineCode parentName=\"p\">{`appsody build`}</inlineCode>{`.`}</p>\n    <p><strong parentName=\"p\">{`Github repository:`}</strong>{` `}<a parentName=\"p\" {...{\n        \"href\": \"https://github.com/ibm-cloud-architecture/vaccine-reefer-simulator\"\n      }}>{`vaccine-reefer-simulator`}</a></p>\n    <p><strong parentName=\"p\">{`Kafka topics produced to:`}</strong>{` telemetries`}</p>\n    <p><strong parentName=\"p\">{`Event sents to the topic:`}</strong></p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-python\"\n      }}>{`{\"containerID\": metric[0],\n\"timestamp\": str(metric[1]),\n\"type\":\"ReeferTelemetries\",\n\"payload\"={ \"timestamp\": \"2019-09-04 T15:31 Z\",\n            \"containerID\": \"C101\",\n            \"product_id\": \"P02\",\n            \"sensors\": {\n              \"temperature\": 2.49647,\n              \"oxygen_level\" : 20.4543,\n              \"nitrogen_level\" : 79.4046,\n              \"carbon_dioxide_level\" : 4.42579,\n              \"humidity_level\" : 60.3148,\n              \"fan_1\": \"True\",\n              \"fan_2\" : \"True\",\n              \"fan_3\" : \"True\",\n              \"ambiant_temperature\": 19.8447\n            },\n            \"content_type\": 1,\n            \"target_temperature\": 6.0,\n            \"kilowatts\": 3.44686,\n            \"latitude\": \"37.8226902168957,\",\n            \"longitude\": \"-122.3248956640928\",\n            \"time_door_open\" : 300,\n            \"defrost_cycle\": 6\n        }\n}\n`}</code></pre>\n    <h2>{`Build`}</h2>\n    <p>{`This microservice is built using the Appsody development framework. The Appsody CLI is a required prerequisite for building the application locally.`}</p>\n    <p>{`Appsody will build the application by pulling the contents of the Appsody Stack it is based on and then performing the local application build inside the containerized environment:`}</p>\n    <p><inlineCode parentName=\"p\">{`appsody build -t ibmcase/vaccine-reefer-simulator:v1.0.0 --push`}</inlineCode></p>\n    <p>{`You can optionally specify a container tag. If left blank, latest will be used.\nYou can optionally supply the —push flag to automatically push the built image to specified remote repository.\nPerforming an Appsody build will update the `}<inlineCode parentName=\"p\">{`app-deploy.yaml`}</inlineCode>{` file in the same directory with current information for the application image, labels, and annotations fields.`}</p>\n    <h2>{`Run`}</h2>\n    <p>{`To launch the web application in development mode, using a local kafka cluster based on Strimzi image 2.5, use the following commands:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-shell\"\n      }}>{`docker-compose up &\n# set environment variables - from simulator folder\nexport KAFKA_BROKERS=kafka:9092\n# Run the app with a local kafka broker started with docker compose\n$ appsody run --network kafkanet --docker-options=\"-e KAFKA_BROKERS=$KAFKA_BROKERS\"\n`}</code></pre>\n    <h3>{`Run locally with remote Event Streams on OCP`}</h3>\n    <p>{`If you want to remote connect to Event Streams on OpenShift, you need to get the external URL for the bootstrap end point and the TLS certificate in the form of a .pem file. The following commands can help you do so.`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-shell\"\n      }}>{`# login to OpenShift\noc login --token=L0.... --server=https://api.eda-solutions.gse-ocp.net:6443\n# Access to the project where event streams run\noc project integration\n# Access to Event Streams cluster\ncloudctl es init\n# From the result get the bootstrap address: some thing like:\n# ...-kafka-bootstrap-integration.apps.....:443 \n# Get the certificate\ncloudctl es certificates --format pem\nmv es-cert.pem certs/\n# Get one of the kafka user defined with the scram-sha-512 authentication\noc get kafkausers -n integration\n# For example here is an output: \n# NAME      AUTHENTICATION   AUTHORIZATION\n# my-user1  scram-sha-512    simple\n`}</code></pre>\n    <p>{`Set the following environment variables:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-shell\"\n      }}>{`export KAFKA_BROKERS=...-kafka-bootstrap-integration.apps.....:443 \nexport KAFKA_USER=my-user1\nexport KAFKA_PWD=$(oc -n integration get secret my-user1 -o jsonpath='{.data.password}'  | base64 --decode)\n`}</code></pre>\n    <p>{`Then start the app (the previous steps has to be done only for the first run):`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-shell\"\n      }}>{`appsody run --docker-options \"-e KAFKA_BROKERS=$KAFKA_BROKERS -e KAFKA_USER=$KAFKA_USER -e KAFKA_PWD=$KAFKA_PWD -v $(pwd)/certs/es-cert.pem:/certs\"\n`}</code></pre>\n    <p>{`The trace shows the Kafka configuration options:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-shell\"\n      }}>{`Kafka options are:\n[Container] {'bootstrap.servers': '....:443', 'group.id': 'ReeferTelemetryProducers', 'security.protocol': 'SASL_SSL', 'sasl.mechanisms': 'SRAM-SHA-512', 'sasl.username': 'my-user1', 'sasl.password': 'xC..VDc', 'ssl.ca.location': '/certs/es-cert.pem'}\n`}</code></pre>\n    <h3>{`Testing`}</h3>\n    <h4>{`Unit test the Simulator`}</h4>\n    <p>{`The test coverage for this project is not great yet. To run the test use `}<inlineCode parentName=\"p\">{`appsody test`}</inlineCode>{`.`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-shell\"\n      }}>{`cd ./scripts\n./startPythonEnv.sh\nroot@1de81b16f940:/# export PYTHONPATH=/home/reeferiotsimulator\nroot@1de81b16f940:/# cd /home/reeferiotsimulator\nroot@1de81b16f940:/# python test/unit/TestSimulator.py\n`}</code></pre>\n    <h4>{`Functional testing`}</h4>\n    <p>{`To be able to run locally, you need a Kafka simple cluster. We have defined a docker compose for that, see `}<a parentName=\"p\" {...{\n        \"href\": \"#run\"\n      }}>{`previous section`}</a>{`.`}</p>\n    <p>{`Use the web browser or a Postman to go to the URL: `}<a parentName=\"p\" {...{\n        \"href\": \"http://localhost:8080/control\"\n      }}>{`http://localhost:8080/control`}</a>{` and do a POST. Here is an image of the open API UI:`}</p>\n    <span {...{\n      \"className\": \"gatsby-resp-image-wrapper\",\n      \"style\": {\n        \"position\": \"relative\",\n        \"display\": \"block\",\n        \"marginLeft\": \"auto\",\n        \"marginRight\": \"auto\",\n        \"maxWidth\": \"1152px\"\n      }\n    }}>{`\n      `}<span parentName=\"span\" {...{\n        \"className\": \"gatsby-resp-image-background-image\",\n        \"style\": {\n          \"paddingBottom\": \"51.041666666666664%\",\n          \"position\": \"relative\",\n          \"bottom\": \"0\",\n          \"left\": \"0\",\n          \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAABYlAAAWJQFJUiTwAAABbUlEQVQoz4WSy07DMBBF/f9fwQLBij1/wFMIsUFIUFrSxvEjsZ1n2zi9jN0U2gqVxdHcGcfXHmfYNX/Bk5ggLRSSQhJijBJzo4itXlgN1TrI1hJujzGn76QRYIkSUK5A2bewqwYusG6iFlQ3yxo2QLnd6WPCGh1u6WD2IReY5xy8LpCO8KbAotR4nU8xUSmmRUb1PNbj+h+krQGn27KQCBL7ZI2B7BxSTc8gMpi6QtuviOVJSrop47R5ZxIQzVYrMjTOQRcGZV2jH/xJ/DBEUxbaODAcdYj9xmPABn4zYO37k3gy7aiLA8ODlimuhj6e/p9Z+Kbza4iuAtv+CHOERVqR6dcUIldkXkHTaOiu/KUtD/LwROH5mF4a1IND5e0PpXc0RgaT2RsS/gnbaHpb6oQ2iW7bhYx6zEdCjd3ONM5uBC4eJM7vBS4fJa6eVdSRO6o9CLxlKb5ofKaax/ieJfikkZrlGcExo3pCg/0NE3n3Y9MHhmMAAAAASUVORK5CYII=')\",\n          \"backgroundSize\": \"cover\",\n          \"display\": \"block\"\n        }\n      }}></span>{`\n  `}<img parentName=\"span\" {...{\n        \"className\": \"gatsby-resp-image-image\",\n        \"alt\": \"simulapp control openapi\",\n        \"title\": \"simulapp control openapi\",\n        \"src\": \"/vaccine-solution-main/static/e9dcdde15f243d9da7479203ec0f391a/3cbba/simulapp-control-openapi.png\",\n        \"srcSet\": [\"/vaccine-solution-main/static/e9dcdde15f243d9da7479203ec0f391a/7fc1e/simulapp-control-openapi.png 288w\", \"/vaccine-solution-main/static/e9dcdde15f243d9da7479203ec0f391a/a5df1/simulapp-control-openapi.png 576w\", \"/vaccine-solution-main/static/e9dcdde15f243d9da7479203ec0f391a/3cbba/simulapp-control-openapi.png 1152w\", \"/vaccine-solution-main/static/e9dcdde15f243d9da7479203ec0f391a/0b124/simulapp-control-openapi.png 1728w\", \"/vaccine-solution-main/static/e9dcdde15f243d9da7479203ec0f391a/200a5/simulapp-control-openapi.png 2286w\"],\n        \"sizes\": \"(max-width: 1152px) 100vw, 1152px\",\n        \"style\": {\n          \"width\": \"100%\",\n          \"height\": \"100%\",\n          \"margin\": \"0\",\n          \"verticalAlign\": \"middle\",\n          \"position\": \"absolute\",\n          \"top\": \"0\",\n          \"left\": \"0\"\n        },\n        \"loading\": \"lazy\"\n      }}></img>{`\n    `}</span>\n    <h3>{`Deployment`}</h3>\n    <ol>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`There are a set of required configuration elements for connectivity to IBM Event Streams (Kafka) prior to deploy this app:`}</p>\n        <ul parentName=\"li\">\n          <li parentName=\"ul\">\n            <p parentName=\"li\">{`A `}<inlineCode parentName=\"p\">{`ConfigMap`}</inlineCode>{` named `}<inlineCode parentName=\"p\">{`reefer-simul-cmap`}</inlineCode>{`, that you deploy with `}<inlineCode parentName=\"p\">{`oc apply -f config/configmap.yaml`}</inlineCode></p>\n          </li>\n          <li parentName=\"ul\">\n            <p parentName=\"li\">{`A user and user secret. If you have a defined a user in the Event Streams console name `}<inlineCode parentName=\"p\">{`kafka-user`}</inlineCode>{` with SRAM credentials, then we need to copy the secret in the name space where the service will run. For that do the following command: `}</p>\n            <pre parentName=\"li\"><code parentName=\"pre\" {...{}}>{`oc get secret kafka-user -n integration -o yaml | oc apply -f -\n`}</code></pre>\n          </li>\n          <li parentName=\"ul\">\n            <p parentName=\"li\">{`A `}<inlineCode parentName=\"p\">{`Secret`}</inlineCode>{` named `}<inlineCode parentName=\"p\">{`eventstreams-pem`}</inlineCode>{` for the pem file content.`}</p>\n            <pre parentName=\"li\"><code parentName=\"pre\" {...{}}>{`oc create secret generic eventstreams-pem --from-file=certs/es-cert.pem\n`}</code></pre>\n          </li>\n        </ul>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Once those elements are defined it is important to configure the app so it can retrieve those information via environment variables. With Appsody the file `}<inlineCode parentName=\"p\">{`appsody-config.yaml`}</inlineCode>{` is supporting these configurations. `}</p>\n        <p parentName=\"li\"><a parentName=\"p\" {...{\n            \"href\": \"https://github.com/ibm-cloud-architecture/vaccine-reefer-simulator/blob/master/app-deploy.yaml\"\n          }}>{`See app-deploy.yaml`}</a></p>\n      </li>\n    </ol>\n    <h3>{`Application deployment`}</h3>\n    <p>{`The application can be deployed to a remote OpenShift cluster by using the `}<inlineCode parentName=\"p\">{`appsody deploy`}</inlineCode>{` command (We recommend reading `}<a parentName=\"p\" {...{\n        \"href\": \"https://appsody.dev/docs/using-appsody/building-and-deploying/\"\n      }}>{`Appsody build and deploy product documentation`}</a>{`):`}</p>\n    <ul>\n      <li parentName=\"ul\">{`Deploy using the docker image on public docker hub repository:`}</li>\n    </ul>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-shell\"\n      }}>{`# login to the openshift cluster if not done already\noc login --token=rR.... --server=....\n# Deploy to the vaccine solution project\nappsody deploy -t ibmcase/vcc-reeferiotsimulator:v1.0.0 --push --namespace vaccine-solution\n`}</code></pre>\n    <p>{`You can verify the deployment with the CLI`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-shell\"\n      }}>{`oc get pods -w\n`}</code></pre>\n    <p>{`or the via the Openshift console:`}</p>\n    <span {...{\n      \"className\": \"gatsby-resp-image-wrapper\",\n      \"style\": {\n        \"position\": \"relative\",\n        \"display\": \"block\",\n        \"marginLeft\": \"auto\",\n        \"marginRight\": \"auto\",\n        \"maxWidth\": \"1137px\"\n      }\n    }}>{`\n      `}<span parentName=\"span\" {...{\n        \"className\": \"gatsby-resp-image-background-image\",\n        \"style\": {\n          \"paddingBottom\": \"72.56944444444444%\",\n          \"position\": \"relative\",\n          \"bottom\": \"0\",\n          \"left\": \"0\",\n          \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAYAAADkmO9VAAAACXBIWXMAAAsSAAALEgHS3X78AAABWElEQVQ4y51Ti27DIBDL/3/nKrVJSQghvALxMCsTbdat60lWOOUwPnx0cpKQUsI5hzb2fX8LnVoNrDHYtg3ee1hrEYJHjPGlAxisJQphP45QSmGeZ6hFQ84LFq2xrmsuSt/Fz0gZ7I4ohK4oCkh5k3I7hE5wPmS1DiYrN8ZmcoOU0lNUcq67STuMUhUM05yhEeKOsCVscf/3nXar9VhvLYpM+DEo2JCgbYRx8WWiGpnQQaxblntvwruOd8P1CjFOxeUD0Y3sr7hTyBlkuz6EMjYV4Zb3fY9rPnQYBizLUoxiPcE1jWi76IQQGPPofDl6xPl8LmSsmaapPAJ+67olLApPpxMul0uZRSpoQRUk5H/mOpvX/md+IKRCnlbbaMFXw5arQip6iZDqfmuZCknMWpJW8HUd7pAX3l52S0aFJCO4mXU8vIL5QSGd5Mj8BL5hful4zR/xOIef4x6UxRG94hMAAAAASUVORK5CYII=')\",\n          \"backgroundSize\": \"cover\",\n          \"display\": \"block\"\n        }\n      }}></span>{`\n  `}<img parentName=\"span\" {...{\n        \"className\": \"gatsby-resp-image-image\",\n        \"alt\": \"simul app ocp\",\n        \"title\": \"simul app ocp\",\n        \"src\": \"/vaccine-solution-main/static/15bfb9c4be7886eb951c0294f0a92ead/66ed6/simul-app-ocp.png\",\n        \"srcSet\": [\"/vaccine-solution-main/static/15bfb9c4be7886eb951c0294f0a92ead/7fc1e/simul-app-ocp.png 288w\", \"/vaccine-solution-main/static/15bfb9c4be7886eb951c0294f0a92ead/a5df1/simul-app-ocp.png 576w\", \"/vaccine-solution-main/static/15bfb9c4be7886eb951c0294f0a92ead/66ed6/simul-app-ocp.png 1137w\"],\n        \"sizes\": \"(max-width: 1137px) 100vw, 1137px\",\n        \"style\": {\n          \"width\": \"100%\",\n          \"height\": \"100%\",\n          \"margin\": \"0\",\n          \"verticalAlign\": \"middle\",\n          \"position\": \"absolute\",\n          \"top\": \"0\",\n          \"left\": \"0\"\n        },\n        \"loading\": \"lazy\"\n      }}></img>{`\n    `}</span>\n    <p>{`Appsody has defined the service and expose the application via a route.`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`oc get svc\noc describe route vaccine-reefer-simulator\n`}</code></pre>\n    <ul>\n      <li parentName=\"ul\">{`To delete the deployment: `}<inlineCode parentName=\"li\">{`appsody deploy delete`}</inlineCode></li>\n    </ul>\n    <h3>{`Continuous deployment with Tekton`}</h3>\n    <p>{`The general approach to use Tekton to deploy the components of the solution is defined in `}<a parentName=\"p\" {...{\n        \"href\": \"../devops/cd.md#tekton-appsody-deployments\"\n      }}>{`this note`}</a>{`.`}</p>\n    <h2>{`Demonstrate`}</h2>\n    <p>{`Once deployed, you can access the Swagger-based REST API via the defined route and trigger the simulation controls.`}</p>\n    <ol>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`To determine the route, use the `}<inlineCode parentName=\"p\">{`oc get route reefer-simulator`}</inlineCode>{` command and go to the URL specified in the `}<inlineCode parentName=\"p\">{`HOST/PORT`}</inlineCode>{` field in your browser.`}</p>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`From there, drill down into the `}<inlineCode parentName=\"p\">{`POST /control`}</inlineCode>{` section and click `}<strong parentName=\"p\">{`Try it out!`}</strong>{`.`}</p>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Enter any of the following options for the fields prepopulated in the `}<inlineCode parentName=\"p\">{`control`}</inlineCode>{` body: P01 is the covid-19 vaccine.`}</p>\n        <ul parentName=\"li\">\n          <li parentName=\"ul\">{`Container: `}<inlineCode parentName=\"li\">{`C01, C02, C03, C04`}</inlineCode></li>\n          <li parentName=\"ul\">{`Product: `}<inlineCode parentName=\"li\">{`P01, P02, P03, P04`}</inlineCode></li>\n          <li parentName=\"ul\">{`Simulation: `}<inlineCode parentName=\"li\">{`poweroff, co2sensor, o2sensor, temperature, normal`}</inlineCode></li>\n          <li parentName=\"ul\">{`Number of records: A positive integer`}</li>\n        </ul>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Click `}<strong parentName=\"p\">{`Execute`}</strong></p>\n      </li>\n    </ol>\n    <h2>{`More readings`}</h2>\n    <ul>\n      <li parentName=\"ul\"><a parentName=\"li\" {...{\n          \"href\": \"https://flask-restful.readthedocs.io/en/latest/quickstart.html\"\n        }}>{`Flask Restful`}</a></li>\n      <li parentName=\"ul\"><a parentName=\"li\" {...{\n          \"href\": \"https://appsody.dev/docs/using-appsody/building-and-deploying/\"\n        }}>{`Appsody build and deploy product documentation`}</a></li>\n    </ul>\n\n    </MDXLayout>;\n}\n;\nMDXContent.isMDXComponent = true;\n      "],"sourceRoot":""}