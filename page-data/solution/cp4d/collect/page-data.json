{"componentChunkName":"component---src-pages-solution-cp-4-d-collect-mdx","path":"/solution/cp4d/collect/","result":{"pageContext":{"frontmatter":{"title":"IBM Cloud Pak for Data - data collection","description":"IBM Cloud Pak for Data - data collection"},"relativePagePath":"/solution/cp4d/collect.mdx","titleType":"append","MdxNode":{"id":"189ed0cb-ac7d-5283-9ae2-919b4900252c","children":[],"parent":"b2298faa-43ee-51e5-b4b0-e233fb3ebe30","internal":{"content":"---\ntitle: IBM Cloud Pak for Data - data collection\ndescription: IBM Cloud Pak for Data - data collection\n---\n\nTo develop the anomaly detection service we first need to access the data. We have two datasources in this example: the reefer information and the telemetries data coming from the different reefer containers. With the telemetries we should be able to assess anomaly. The Telemetries are saved to DB2 database hosted on Cloud Pak for data. \n\nAs part of the data governance capability, a user with data engineer role can do the following tasks:\n\n* Define one to many connections to the remote different data sources\n* Create virtual assets to materialize tables and views from the different data sources\n* Assign an asset to an exisint project or a data request (governance object to ask to access data)\n\n## Define connection\n\nFirst we need to get the connection information for the DB2 database. \n\n## Create a new project\n\nOnce logged into Cloud Pak for Data, create a new project. A project is a collection of assets the analytics team work on. It can include data assets and Notebooks, RStudio files\nModels, scripts...\n\nFrom the main page select the project view:\n\n![Analytic project](./images/create-project-0.png)\n**Figure 4: Top level navigation menu**\n\nand then new project, and select `analytics`:\n\n![Add project](./images/create-project-1.png)\n\n**Figure 5: Add project**\n\nSelect an empty project:\n\n![Select project type](./images/create-project-2.png)\n**Figure 6: Select project type**\n\nEnter basic information about your project\n\n![Project metadata](./images/create-project-3.png)\n**Figure 7: Project metadata**\n\nThe result is the access to the main project page:\n\n![Project main page](./images/create-project-4.png)\n**Figure 8: Project main page**\n\nNow we need to define data assets into our project...\n\n## Data Virtualization\n\nAs introduced in [this paragraph](https://ibm-cloud-architecture.github.io/refarch-data-ai-analytics/architecture/collect-org-data/), we want to use data virtualization to access the historical telemetry records: The data engineer uses the `Data virtualization` capability to search for existing tables and add the tables he wants in the `cart`. For that, he uses the `Virtualize` menu \n\n![Data Virtualization menu](./images/virtualize-1.png)\n**Figure 9: Data Virtualization menu**\n\nand then selects Mongo DB in the `Filters` column and may be apply some search on specific database name.\n\n![](./images/virtualization.png)\n**Figure 10: Data Virtualization on Mongo DB**\n\nOnce done, he selects the expected tables and then use `Add to cart` link. It is important to note that we have two tables to match the telemetry json document and the sensors sub json document.\n\nThe next step is to assign them to a project:\n\n![](./images/virtualize-tables.png)\n**Figure 11: Data Virtualization cart and tables**\n\n\n## Create a joined view\n\nWe need to join the telemetries and the sensors data into the same table, to flatten the records. In the current Mongo document, there is a 1 to 1 relationship between telemetry and telemetry sensor, so it is easy to flatten the model in one table.\n\nIn the Data Virtualization, as a data steward, we select `My Virtualized data`, and then \nselect TELEMETRICS and TELEMETRICS_SENSORS tables, then the `Join view`. Within this new panel, we create a join key, by dragging the `TELEMETRICS_ID` and `_ID` together:\n\n![Joining tables](./images/join-tables.png)\n**Figure 12: Joining tables**\n\nOnce joined, a new view is created:\n\n![Joined view](./images/join-view.png)\n**Figure 13: Join view**\n\nWe see, now, those new assets as part of the project (Use `Add to project`). The figure below show this new asset in the project:\n\n![Telemetries asset in the project](./images/telemetries-asset.png)\n**Figure 14: Telemetries asset in the project**\n\nWith some data:\n![Telemetry Data](./images/telemetry-data.png)\n**Figure 15: Telemetry data**\n\nNote: It is important to note that building those views will create new connection to the database engine that can be accessed by using external tool.\n\n","type":"Mdx","contentDigest":"372c271b21e087db8dadebfb5f533ff9","counter":345,"owner":"gatsby-plugin-mdx"},"frontmatter":{"title":"IBM Cloud Pak for Data - data collection","description":"IBM Cloud Pak for Data - data collection"},"exports":{},"rawBody":"---\ntitle: IBM Cloud Pak for Data - data collection\ndescription: IBM Cloud Pak for Data - data collection\n---\n\nTo develop the anomaly detection service we first need to access the data. We have two datasources in this example: the reefer information and the telemetries data coming from the different reefer containers. With the telemetries we should be able to assess anomaly. The Telemetries are saved to DB2 database hosted on Cloud Pak for data. \n\nAs part of the data governance capability, a user with data engineer role can do the following tasks:\n\n* Define one to many connections to the remote different data sources\n* Create virtual assets to materialize tables and views from the different data sources\n* Assign an asset to an exisint project or a data request (governance object to ask to access data)\n\n## Define connection\n\nFirst we need to get the connection information for the DB2 database. \n\n## Create a new project\n\nOnce logged into Cloud Pak for Data, create a new project. A project is a collection of assets the analytics team work on. It can include data assets and Notebooks, RStudio files\nModels, scripts...\n\nFrom the main page select the project view:\n\n![Analytic project](./images/create-project-0.png)\n**Figure 4: Top level navigation menu**\n\nand then new project, and select `analytics`:\n\n![Add project](./images/create-project-1.png)\n\n**Figure 5: Add project**\n\nSelect an empty project:\n\n![Select project type](./images/create-project-2.png)\n**Figure 6: Select project type**\n\nEnter basic information about your project\n\n![Project metadata](./images/create-project-3.png)\n**Figure 7: Project metadata**\n\nThe result is the access to the main project page:\n\n![Project main page](./images/create-project-4.png)\n**Figure 8: Project main page**\n\nNow we need to define data assets into our project...\n\n## Data Virtualization\n\nAs introduced in [this paragraph](https://ibm-cloud-architecture.github.io/refarch-data-ai-analytics/architecture/collect-org-data/), we want to use data virtualization to access the historical telemetry records: The data engineer uses the `Data virtualization` capability to search for existing tables and add the tables he wants in the `cart`. For that, he uses the `Virtualize` menu \n\n![Data Virtualization menu](./images/virtualize-1.png)\n**Figure 9: Data Virtualization menu**\n\nand then selects Mongo DB in the `Filters` column and may be apply some search on specific database name.\n\n![](./images/virtualization.png)\n**Figure 10: Data Virtualization on Mongo DB**\n\nOnce done, he selects the expected tables and then use `Add to cart` link. It is important to note that we have two tables to match the telemetry json document and the sensors sub json document.\n\nThe next step is to assign them to a project:\n\n![](./images/virtualize-tables.png)\n**Figure 11: Data Virtualization cart and tables**\n\n\n## Create a joined view\n\nWe need to join the telemetries and the sensors data into the same table, to flatten the records. In the current Mongo document, there is a 1 to 1 relationship between telemetry and telemetry sensor, so it is easy to flatten the model in one table.\n\nIn the Data Virtualization, as a data steward, we select `My Virtualized data`, and then \nselect TELEMETRICS and TELEMETRICS_SENSORS tables, then the `Join view`. Within this new panel, we create a join key, by dragging the `TELEMETRICS_ID` and `_ID` together:\n\n![Joining tables](./images/join-tables.png)\n**Figure 12: Joining tables**\n\nOnce joined, a new view is created:\n\n![Joined view](./images/join-view.png)\n**Figure 13: Join view**\n\nWe see, now, those new assets as part of the project (Use `Add to project`). The figure below show this new asset in the project:\n\n![Telemetries asset in the project](./images/telemetries-asset.png)\n**Figure 14: Telemetries asset in the project**\n\nWith some data:\n![Telemetry Data](./images/telemetry-data.png)\n**Figure 15: Telemetry data**\n\nNote: It is important to note that building those views will create new connection to the database engine that can be accessed by using external tool.\n\n","fileAbsolutePath":"/home/runner/work/vaccine-solution-main/vaccine-solution-main/docs/src/pages/solution/cp4d/collect.mdx"}}},"staticQueryHashes":["1054721580","1054721580","1364590287","2102389209","2102389209","2456312558","2746626797","3018647132","3037994772","768070550"]}